#!/bin/bash

cd e2sm_rc 

gcc -c -fPIC -Iheaders/ lib/*.c rcwrapper.c #-DASN_EMIT_DEBUG=1
gcc *.o -shared -o libe2smrcwrapper.so 

cd ../e2sm_kpm

gcc -c -fPIC -Iheaders/ lib/*.c kpmwrapper.c #-DASN_EMIT_DEBUG=1
gcc *.o -shared -o libe2smkpmwrapper.so 

export LD_LIBRARY_PATH=/home/william/Documents/programming/ANSI_C/asn/e2sm_rc:$LD_LIBRARY_PATH
export LD_LIBRARY_PATH=/home/william/Documents/programming/ANSI_C/asn/e2sm_kpm:$LD_LIBRARY_PATH

#sudo ldconfig

cd ..

if [ -e "main" ]; then
    rm main
fi

#               KPM
#gcc main.c -I/home/william/Documents/programming/ANSI_C/asn \
#           -I/home/william/Documents/programming/ANSI_C/asn/e2sm_kpm \
#           -I/home/william/Documents/programming/ANSI_C/asn/e2sm_kpm/headers \
#           -L/home/william/Documents/programming/ANSI_C/asn/e2sm_kpm \
#           -le2smkpmwrapper -o main -lm -lpthread 

##               RC
gcc main.c -I/home/william/Documents/programming/ANSI_C/asn \
           -I/home/william/Documents/programming/ANSI_C/asn/e2sm_rc \
           -I/home/william/Documents/programming/ANSI_C/asn/e2sm_rc/headers \
           -L/home/william/Documents/programming/ANSI_C/asn/e2sm_rc \
           -le2smrcwrapper -o main -lm -lpthread 

#
##           KPM + RC
#gcc main.c -I/home/william/Documents/programming/ANSI_C/asn/e2sm_rc \
#           -I/home/william/Documents/programming/ANSI_C/asn/e2sm_rc/headers \
#           -L/home/william/Documents/programming/ANSI_C/asn/e2sm_rc \
#           -I/home/william/Documents/programming/ANSI_C/asn/e2sm_kpm \
#           -I/home/william/Documents/programming/ANSI_C/asn/e2sm_kpm/headers \
#           -L/home/william/Documents/programming/ANSI_C/asn/e2sm_kpm \
#           -le2smrcwrapper -le2smkpmwrapper -o main -lm -lpthread 

if [ ! -e "main" ]; then
    echo "Erro na compilação"
    exit
fi

./main 

# RIC Indication Message KPIMOnitor DU
#0c00000031006a006a000000000000000000000000000000020001000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030200000014000000810000102400000083000000204000203400000083000000208000001020003044000000830000002080000010400000081000004054000000830000002080000010400000082000000408000050640000008300000020800000104000000820000004150000000000000000408000607400000083000000208000001040000008200000041d000000000000000041000000204000708400000083000000208000001040000008200000041300000000004100000020800000102000809400000083000000208000001040000008200000041b0000000000004100000020800000104000000810000090a40000008300000020800000104000000820000004170000000000000000004100000020800000104000000820000004080000a0b400000083000000208000001040000008200000041f000000000000000000410000002080000010400000082000000410000002040000b0c400000083000000208000001040000008200000041080000004100000020800000104000000820000004100000020800000102000c0d4000000830000002080000010400000082000000418800000020800000104000000820000004100000020800000104000000820000004080000d0e400000083000000208000001040000008200000041480000000000000820000004100000020800000104000000820000004100000020800000104000000810000e0f400000083000000208000001040000008200000041c8000000000000082000000410000002080000010400000082000000410000002080000010400000082000000408000f10400000083000000208000001040000008200000041280000000010400000082000000410000002080000010400000082000000410000002080000010400000082000000408001011400000083000000208000001040000008200000041a8000000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000102001112400000083000000208000001040000008200000041680000000000000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002040001213400000083000000208000001040000008200000041e800000000000000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000102000131440000008300000020800000104000000820000004118000000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020400014154000000830000002080000010400000082000000419800000000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010200015164000000830000002080000010400000082000000415800000000000000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000810001617400000083000000208000001040000008200000041d8000000000000000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000040800171840000008300000020800000104000000820000004138000000000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000204001819400000083000000208000001040000008200000041b8000000000000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010200191a400000083000000208000001040000008200000041780000000000000000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000105d000000000000b8000000408001a1b400000083000000208000001040000008200000041f80000000000000000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000107d000000000000bc00000041000000204001b1c400000083000000208000001040000008200000041040000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082180000000004100000020800000102001c1d4000000830000002080000010400000082000000418400000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000831800000000041000000208000001040000008100001d1e400000083000000208000001040000008200000041440000000000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000408001e1f400000083000000208000001040000008200000041c4000000000000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000204001f20400000083000000208000001040000008200000041240000000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000102002021400000083000000208000001040000008200000041a40000000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000810000212240000008300000020800000104000000820000004164000000000000000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004080002223400000083000000208000001040000008200000041e40000000000000000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000204000232440000008300000020800000104000000820000004114000000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010200024254000000830000002080000010400000082000000419400000000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008100025264000000830000002080000010400000082000000415400000000000000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000408002627400000083000000208000001040000008200000041d4000000000000000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020400272840000008300000020800000104000000820000004134000000000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000102002829400000083000000208000001040000008200000041b400000000000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000810000292a4000000830000002080000010400000082000000417400000000000000000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004080002a2b400000083000000208000001040000008200000041f40000000000000000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002040002b2c4000000830000002080000010400000082000000410c00000000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001020002c2d4000000830000002080000010400000082000000418c0000000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000810002d2e4000000830000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002080000010400000082000000410000002040002e2f400000083000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001020002f30400000083000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008200000041000000208000001040000008100030314000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820000004100000020800000104000000820270f



#   RIC Indication Header
#2100000104000002

#   RIC Indication Message
#22000100004400030001600000400001000328800105000428800101000560000040000100070101010008440000000c600000400001000e28800101000f2880010100106000004000020012288001000013288001000014298007800015440000001628800102